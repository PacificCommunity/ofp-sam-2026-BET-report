---
format:
  revealjs:
    theme: [default, customizations/presentation-custom.scss]
    slide-number: true
    preview-links: auto
    footer: "Open Science & Reproducibility | 2026 BET Assessment"
    include-in-header:
      - text: |
          <style>
          .spc-logo-embedded {
            position: fixed;
            top: 2%;
            right: 2%;
            z-index: 1000;
            pointer-events: none;
          }
          .spc-logo-embedded img {
            height: 10vh;
            width: auto;
            max-height: 100px;
          }
          /* Section headers styling */
          .reveal h3 {
            color: #2C5F99 !important;
            font-weight: 700 !important;
            margin-top: 0.5em !important;
            margin-bottom: 0.35em !important;
            padding-bottom: 0.1em !important;
            background: linear-gradient(to right, #2C5F99 0%, #2C5F99 100%) !important;
            background-size: 100% 2.5px !important;
            background-position: 0 100% !important;
            background-repeat: no-repeat !important;
            display: block !important;
            width: fit-content !important;
            max-width: 100% !important;
          }
          </style>
      - file: customizations/logo-embed.html
    css: customizations/logos.css
    transition: slide
    background-transition: fade
    width: 1600
    height: 900
    margin: 0.1
    self-contained: true
    embed-resources: true
resources:
  - "static/**"
  - "customizations/**"
---

## {data-background-image="static/spc-title-sidebar.png" data-background-size="35% 100%" data-background-position="left"}

::: {style="margin-left: 40%; padding-top: 20%;"}

[Open Science & Reproducibility]{.blue-title}

[Making Science Transparent and Reproducible]{style="font-size:0.8em;"}  

[Kyuhan Kim | SPC-OFP]{style="font-size:0.5em;"}

[November 2025]{.blue style="font-size:0.5em;"}

:::


## The Problem We Had {data-background-image="static/spc-slide-sidebar.png" data-background-size="5% 100%" data-background-position="left"}

::: {style="margin-left: 1.5%; margin-right: 1.5%; font-size: 0.7em; line-height: 1.5;"}

### Before: The "It Works on My Computer" Problem

::: {.columns}
::: {.column width="50%"}

**1. Different computers, different results:**

- üë® Kyuhan on ü™ü Windows + R 4.2.1 + Package v1.2
- üë© Seojin on üçé Mac + R 4.3.0 + Package v1.5
- üë¶ Danu on üêß Linux + R 4.1.0 + Package v1.0


‚Üí **Same code, different outputs!** üò±

---

**2. Code without instructions:**

- Scripts saved only on local computers
- No clear order: "Which script runs first?"
- "How do I even run this?"
- Must ask the original author directly
- **Huge time waste!**

:::

::: {.column width="50%"}

::: {style="background-color: #fff5f5; padding: 0.5em 0.5em 0.4em 0.5em; border-left: 4px solid #d32f2f; margin-bottom: 0.5em; font-size: 0.85em;"}
**How we are improving reproducibility:**

- ‚úÖ Code & scripts on GitHub
- ‚úÖ Results shared publicly
- ‚úÖ Clear instructions to reproduce

**But still a problem:**

- ‚ùå Software versions change over time
- ‚ùå New versions ‚Üí Different results
- ‚ùå Can't guarantee reproducibility
:::


**What we need:**

::: {style="background-color: #e3f2fd; padding: 1em; border-left: 4px solid #2196f3; margin-top: 0.5em;"}
**A "time capsule" for analyses**

Freeze everything: code + software + versions  
‚Üí Works the same way 10 years later
:::

:::
:::

:::


## Our Solution: 3 Simple Tools {data-background-image="static/spc-slide-sidebar.png" data-background-size="5% 100%" data-background-position="left"}

::: {style="margin-left: 1.5%; margin-right: 1.5%; font-size: 0.75em; line-height: 1.5;"}

### Software That Makes Everything Work Together

::: {.columns}
::: {.column width="33%"}

**1. Docker**
*"Software Time Capsule"*

- Freezes everything: R + MFCL + packages
- Same versions forever
- Works the same in 10 years


:::

::: {.column width="33%"}

**2. GitHub**
*"Code Time Machine"*

- Every change saved automatically
- Travel back to any version
- See who changed what & why
- Auto-test on every save


:::

::: {.column width="33%"}

**3. HtCondor**
*"Computing Superpower"*

- 1 computer ‚Üí Hundreds working together
- All use same time capsule (Docker)
- Weeks ‚Üí Hours


:::
:::

### The Result

::: {style="background-color: #e8f5e9; padding: 1em; border-left: 4px solid #4caf50; margin-top: 1em; text-align: center; font-size: 1.1em;"}
**Same software everywhere ‚Üí Same results ‚Üí Trustworthy science**
:::

:::


## How It Works: Step by Step {data-background-image="static/spc-slide-sidebar.png" data-background-size="5% 100%" data-background-position="left"}

::: {style="margin-left: 1.5%; margin-right: 1.5%; font-size: 0.78em; line-height: 1.5;"}

```{mermaid}
%%| fig-width: 19
%%| fig-height: 14
flowchart LR
  A["üî® Build Image"] --> B["üì¶ Host (ghcr.io)"]
  B --> C["üê≥ Download Image"]
  C --> D["üíª Code & Test"]

  subgraph Docker["Inside üê≥"]
    D --> E["üì§ Upload to GitHub"]
    E -->|"GitHub Actions"| F["‚úÖ Test & Deploy"]
    E -.->|"Many runs"| G["‚ö° HtCondor"]
  end

  subgraph Anyone["üë• can reproduce"]
    H["üê≥ Download Image"] --> I["üì• Download Code"]
    I --> J["‚ñ∂Ô∏è Run: Same Results"]
  end

  B -.->|"Available"| H
  E -.->|"Available"| I

  style A fill:#f3e5f5,stroke:#9c27b0,stroke-width:3px,color:#000
  style B fill:#e1bee7,stroke:#9c27b0,stroke-width:3px,color:#000
  style C fill:#e3f2fd,stroke:#2196f3,stroke-width:3px,color:#000
  style D fill:#fff3e0,stroke:#ff9800,stroke-width:3px,color:#000
  style E fill:#f3e5f5,stroke:#9c27b0,stroke-width:3px,color:#000
  style F fill:#e8f5e9,stroke:#4caf50,stroke-width:3px,color:#000
  style G fill:#fff9c4,stroke:#f57c00,stroke-width:3px,color:#000
  style H fill:#e3f2fd,stroke:#2196f3,stroke-width:3px,color:#000
  style I fill:#fff3e0,stroke:#ff9800,stroke-width:3px,color:#000
  style J fill:#c8e6c9,stroke:#4caf50,stroke-width:3px,color:#000
  style Docker fill:#e3f2fd15,stroke:#2196f3,stroke-width:4px,stroke-dasharray: 10 5
  style Anyone fill:#fff3e015,stroke:#ff9800,stroke-width:4px,stroke-dasharray: 10 5
```

::: {style="background-color: #e3f2fd; padding: 0.8em; border-left: 4px solid #2196f3; margin-top: 1em; text-align: center; font-size: 1em;"}
**üê≥ Same Docker image + ‚úÖ Versioned & tested code ‚Üí Same results guaranteed!**
:::

:::


## Our Repositories - All Public {data-background-image="static/spc-slide-sidebar.png" data-background-size="5% 100%" data-background-position="left"}

::: {style="margin-left: 1.5%; margin-right: 1.5%; font-size: 0.65em; line-height: 1.4;"}

### Three Interconnected Repositories

::: {.columns}
::: {.column width="33%"}

**1. Docker Images**

::: {style="margin-top: 0.5em; margin-bottom: 0.5em;"}
[github.com/.../ofp-sam-docker-images](https://github.com/PacificCommunity/ofp-sam-docker-images)
:::

::: {style="background-color: #e3f2fd; padding: 0.6em; border-left: 3px solid #2196f3; margin-top: 0.4em;"}
- Code to build images
- Hosted: [ghcr.io/.../bet-2026](https://ghcr.io/pacificcommunity/bet-2026)
- Automated build & host
:::

:::

::: {.column width="33%"}

**2. BET Assessment**

::: {style="margin-top: 0.5em; margin-bottom: 0.5em;"}
[github.com/.../ofp-sam-2026-BET](https://github.com/PacificCommunity/ofp-sam-2026-BET)
:::

::: {style="background-color: #fff3e0; padding: 0.6em; border-left: 3px solid #ff9800; margin-top: 0.4em;"}
- Model runs & analysis
- MFCL configurations
- Automated code testing
:::

:::

::: {.column width="33%"}

**3. Reports & Slides**

::: {style="margin-top: 0.5em; margin-bottom: 0.5em;"}
[github.com/.../ofp-sam-2026-BET-report](https://github.com/PacificCommunity/ofp-sam-2026-BET-report)
:::

::: {style="background-color: #f3e5f5; padding: 0.6em; border-left: 3px solid #9c27b0; margin-top: 0.4em;"}
- SC report
- Presentation slides
- Auto-compile & deploy
:::

:::
:::

### Workflow Integration

```{mermaid}
%%| fig-width: 14
%%| fig-height: 3.5
flowchart LR
    A["üê≥ Docker Images<br/>(Build & Host)<br/><br/>‚öôÔ∏è GitHub Actions"] --> B["üìä BET Assessment<br/>(Model Runs)<br/><br/>‚öôÔ∏è GitHub Actions"]
    B --> C["üìÑ Reports<br/>(Compile & Deploy)<br/><br/>‚öôÔ∏è GitHub Actions"]
    
    style A fill:#e3f2fd,stroke:#2196f3,stroke-width:3px,color:#000
    style B fill:#fff3e0,stroke:#ff9800,stroke-width:3px,color:#000
    style C fill:#f3e5f5,stroke:#9c27b0,stroke-width:3px,color:#000
```

::: {style="background-color: #e8f5e9; padding: 0.6em; border-left: 4px solid #4caf50; margin-top: 0.6em; text-align: center;"}
**All repositories are PUBLIC & fully automated with GitHub Actions**
:::

:::


## Discussion: What to Share? {data-background-image="static/spc-slide-sidebar.png" data-background-size="5% 100%" data-background-position="left"}

::: {style="margin-left: 1.5%; margin-right: 1.5%; font-size: 0.72em; line-height: 1.5;"}

### Currently Everything is Public

::: {.columns}
::: {.column width="48%"}

**What We Share:**

- All code & scripts
- Docker image
- Documents & slides

**Benefits:**

- Full transparency
- Anyone can reproduce
- Easy collaboration

:::

::: {.column width="52%"}

**The Question:**

::: {style="background-color: #fff3e0; padding: 1em; border-left: 4px solid #ff9800; margin-bottom: 1em;"}
Should **preliminary results** be public?

- Diagnostic model
- Majuro/Kobe plots
- Sensitivity/Grid results
:::

**Concerns:**

- May be misinterpreted
- Not yet peer-reviewed
- Risk of confusion

:::
:::

:::


## Thank You {data-background-image="static/spc-title-sidebar.png" data-background-size="5% 100%" data-background-position="right" data-background-color="#003087"}

::: {style="text-align: center; padding-top: 25%; color: white;"}

### Questions & Discussion

<br>

**Explore our repositories:**

<https://github.com/PacificCommunity/ofp-sam-docker-images>

<https://github.com/PacificCommunity/ofp-sam-2026-BET>

<https://github.com/PacificCommunity/ofp-sam-2026-BET-report>

<br>

**Contact:**  
Kyuhan Kim | kyuhank@spc.int  
Pacific Community (SPC) - Oceanic Fisheries Programme

:::
